<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>contact_kn_2_0_0</title>
    <link rel="stylesheet" href="../../assets/sass/custom.min.css">
    <link rel="stylesheet" href="sass/contact_kn_2_0_0.min.css">
    <link rel="stylesheet" href="https://huudinh.github.io/assets/sass/lib.min.css">
    <script src="https://huudinh.github.io/assets/js/lib.min.js"></script>
</head>

<body>
    <section class="contact_kn_2_0_0">
        <div class="container">
            <div class="contact_kn_2_0_0__pc">
                <div class="contact_kn_2_0_0__box load fadeInUp">
                    <div class="contact_kn_2_0_0__item">
                        <img width="43" height="43"
                            src="https://benhvienthammykangnam.vn/wp-content/themes/SCI_Theme_v3/Module/Home/contact_kn_2_0_0/images/like.svg"
                            alt="">
                        <p>Nhận báo giá</p>
                        <button class="contact_kn_2_0_0__more knprice">Nhận ngay</button>
                    </div>
                    <div class="contact_kn_2_0_0__item">
                        <img width="43" height="43"
                            src="https://benhvienthammykangnam.vn/wp-content/themes/SCI_Theme_v3/Module/Home/contact_kn_2_0_0/images/doctor.svg"
                            alt="">
                        <p>Đặt lịch tư vấn</p>
                        <button class="contact_kn_2_0_0__more kntv">Tư vấn ngay</button>
                    </div>
                    <div class="contact_kn_2_0_0__item">
                        <img width="43" height="43"
                            src="https://benhvienthammykangnam.vn/wp-content/themes/SCI_Theme_v3/Module/Home/contact_kn_2_0_0/images/gift.svg"
                            alt="">
                        <p>Ưu đãi hot</p>
                        <a class="contact_kn_2_0_0__more" href="https://benhvienthammykangnam.com.vn/uu-dai/"
                            target="_blank">Nhận ngay</a>
                    </div>
                </div>
            </div>
            <div class="contact_kn_2_0_0__mb">
                <form id="contact_kn_2_0_0__boxMb" class="contact_kn_2_0_0__boxMb">
                    <div class="contact_kn_2_0_0__itemMb">
                        <div class="contact_kn_2_0_0__icon">
                            <img width="43" height="43" class="lazy" data-src="https://benhvienthammykangnam.vn/wp-content/themes/SCI_Theme_v3/Module/Home/contact_kn_2_0_0/images/phone.svg" alt="">
                        </div>
                        <div class="contact_kn_2_0_0__text">
                            hotline
                            <span>1900.6466</span>
                        </div>
                    </div>
                    <div class="contact_kn_2_0_0__itemMb">
                        <div class="contact_kn_2_0_0__icon">
                            <img width="43" height="43" class="lazy" data-src="https://benhvienthammykangnam.vn/wp-content/themes/SCI_Theme_v3/Module/Home/contact_kn_2_0_0/images/calculator.svg" alt="">
                        </div>
                        <div class="contact_kn_2_0_0__text">
                            <span>đặt lịch</span>
                            nhận tư vấn
                        </div>
                    </div>
                    <div class="contact_kn_2_0_0__itemForm">
                        <div class="contact_kn_2_0_0__sub">nhận ưu đãi</div>
                        <div class="contact_kn_2_0_0__form">
                            <div style="display:none">
                                <input id="iemail" name="iemail" type="textbox" placeholder="Email:">
                                <input type="hidden" id="gclid_field" name="gclid_field" value="">
                                <input type="hidden" id="code_campaign" name="code_campaign" value="583971142">
                                <input type="hidden" id="name_campaign" name="name_campaign" value="[Kangnam] Sale Kangnam">
                                <input type="hidden" id="first_url" name="first_url" value="">
                                <input type="hidden" id="refer" name="refer" value="">
                            </div>
                            <div class="form-group" style="display:none">
                                <input id="itext" name="itext" type="textbox" placeholder="Ghi chú">
                                <div class="form-message"></div>
                            </div> 
                            <div class="form-group">
                                <input name="name" type="text" class="contact_kn_2_0_0__input" placeholder="Họ và tên:">
                                <div class="form-message"></div>
                            </div>
                            <div class="form-group">
                                <input name="phone" type="text" class="contact_kn_2_0_0__input" placeholder="Số điện thoại:">
                                <div class="form-message"></div>
                            </div>
                            <div class="form-group">
                                <select name="service" class="contact_kn_2_0_0__input">
                                    <option value="">Chọn dịch vụ</option>
                                    <option value="Cắt mí - Bấm mí">Cắt mí - Bấm mí</option>
                                    <option value="Nâng mũi">Nâng mũi</option>
                                    <option value="Nâng ngực">Nâng ngực</option>
                                    <option value="Giảm mỡ">Giảm mỡ</option>
                                    <option value="Hàm mặt">Hàm mặt</option>
                                    <option value="Tạo hình môi">Tạo hình môi</option>
                                    <option value="Phun xăm">Phun xăm</option>
                                    <option value="Trị nám - Tàn nhang">Trị nám - Tàn nhang</option>
                                    <option value="Trị mụn - Mụn thịt">Trị mụn - Mụn thịt</option>
                                    <option value="Căng da - Cấy mỡ">Căng da - Cấy mỡ</option>
                                    <option value="Thẩm mỹ khác">Thẩm mỹ khác</option>
                                </select>
                                <div class="form-message"></div>
                            </div>
                            <button type="submit" class="contact_kn_2_0_0__submit">Đăng ký ngay</button>
                        </div>
                    </div>
                    <div class="contact_kn_2_0_0__note">Cam kết bảo mật thông tin khách hàng</div>
                </form>
            </div>
        </div>
    </section>

    <script>
        document.querySelector('#contact_kn_2_0_0__boxMb input[name="first_url"]').value = document.URL;
        document.querySelector('#contact_kn_2_0_0__boxMb input[name="refer"]').value = document.referrer;
        // Validate Form
        document.addEventListener("DOMContentLoaded", function() {
            Validator({
                form: '#contact_kn_2_0_0__boxMb',
                errorSelector: '.form-message',
                formGroupSelector: '.form-group',
                rules: [
                    Validator.isRequired('input[name="name"]'),
                    Validator.isRequired('input[name="phone"]'),
                    Validator.isMobile('input[name="phone"]'),
                    Validator.isRequired('select[name="service"]'),
                    Validator.addInput('#contact_kn_2_0_0__boxMb #itext', () => {
                        return 'Đăng ký nhận ưu đãi: ' + document.querySelector('#contact_kn_2_0_0__boxMb select[name="service"]').value;
                    }),
                ],
                onSubmit: function (data) {
                    console.log(data);
                    // sendForm(this.form, '/dang-ky-thanh-cong');  
                    // const createForm = async () => {
                    //     const info = {
                    //         contact_name: 'Test', 
                    //         phone: '03637881600', 
                    //         email_from: 'dinth@scigroup.com.vn', 
                    //         description: 'description', 
                    //         code_campaign: '583971142', 
                    //         name_campaign: '[Kangnam] Sale Kangnam',
                    //     };
                    //     const response = await fetch(`
                    //         https://benhvienthammykangnam.vn/css/landing/sendform?
                    //         contact_name=${info.contact_name}&
                    //         phone=${info.phone}&
                    //         email_from=${info.email_from}&
                    //         description=${info.description}&
                    //         code_campaign=${info.code_campaign}&
                    //         name_campaign=${info.name_campaign}
                    //     `);
                    //     const data = await response.json();
                    //     console.log('9. Create Form', data);
                    //     return data;
                    // };
                    // createForm();           
                }
            });
        })
    </script>
    <script src="https://huudinh.github.io/assets/js/validator.min.js"></script>
    <script>
        function sendForm(idForm, redirect) {
            var  xmlhttp;
            if(window.XMLHttpRequest){
            xmlhttp = new XMLHttpRequest();
            }else if(window.ActiveXObject){
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")

            }
            // Instantiating the request object
            xmlhttp.open("POST", "https://benhvienthammykangnam.vn/api_form.php", true);

            // Defining event listener for readystatechange event
            xmlhttp.onreadystatechange = function() {
            // if (this.readyState !== "complete"){
            //    document.getElementById("response_message").innerHTML = "Loading";
            // }
                if (this.readyState === 4 && this.status === 200)
                {
                    //alert(this.responseText); // Here is the response
                    // document.getElementById("response_message").innerHTML = this.responseText;
                    if(redirect){
                        window.top.location.href = redirect;
                    }
                }
            }

            // Retrieving the form data
            var leadForm = document.querySelector(idForm);
            var formData = new FormData(leadForm);

            // Sending the request to the server
            xmlhttp.send(formData);
        }
    </script>

</body>
<script src="https://huudinh.github.io/assets/js/module.min.js"></script>

</html>
let cateIndexVideo=0;const tabsVideo=[];video_kn_2_0_0_data.map(item=>tabsVideo.push(item.category));const getThumbYoutube=url=>{let video_id=url.split("v=")[1];const ampersandPosition=video_id.indexOf("&");return-1!=ampersandPosition&&(video_id=video_id.substring(0,ampersandPosition)),`https://img.youtube.com/vi/${video_id}/maxresdefault.jpg`},filterDataVideo=filter=>video_kn_2_0_0_data.filter(item=>item.category===filter),handleCateVideo=item=>{cateVideo=item,cateIndexVideo=tabsVideo.indexOf(item),renderVideo()},nextCateVideo=()=>{cateIndexVideo<tabsVideo.length-1&&cateIndexVideo++,cateVideo=tabsVideo[cateIndexVideo],renderVideo()},preCateVideo=()=>{cateIndexVideo>0&&cateIndexVideo--,cateVideo=tabsVideo[cateIndexVideo],renderVideo()},renderCate=()=>{document.querySelector(".video_kn_2_0_0__categories").innerHTML=` \n<button onclick="preCateVideo()">❮</button>\n<ul>\n    ${tabsVideo.map(item=>`<li class="${cateVideo===item?"video_kn_2_0_0__category--active":""}" onclick="handleCateVideo('${item}')">${item}</li>`).join("")}\n</ul>\n<button onclick="nextCateVideo()">❯</button>`},removeDuplicate=array=>array.filter((item,index)=>array.indexOf(item)===index),renderSeasonEp=(cate,className)=>{let index="";function getKeyByValue(object,value){return Object.keys(object).find(key=>object[key]===value)}className&&(index=document.querySelector(`.${className}`).value);const dataSeasons=[],dataEpisode=[],dataCate=filterDataVideo(cate);dataCate[0].item.map(item=>dataSeasons.push(item.season));const dataSeason=removeDuplicate(dataSeasons),dataEpisodeBySeason=dataCate[0].item.filter(item=>item.season===dataSeason[className?getKeyByValue(dataSeason,index):0]);dataEpisodeBySeason.map(item=>dataEpisode.push(item.episode));let selectItemSeason="",selectItemEpisode="";dataSeason.map(item=>selectItemSeason+=`\n        <option value="${item}">${item}</option>\n    `),dataEpisode.map(item=>selectItemEpisode+=`\n        <option value="${item}">${item}</option>\n    `),className||(document.querySelector(".video_kn_2_0_0__selectChoice--ss").innerHTML=selectItemSeason),document.querySelector(".video_kn_2_0_0__selectChoice--ep").innerHTML=selectItemEpisode,className&&renderVideoLink(cate,className,"video_kn_2_0_0__selectChoice--ep")},renderVideoLink=(cate,season,ep)=>{const dataCate=filterDataVideo(cate);let seasonNow=dataCate[0].item[0].season,epNow=dataCate[0].item[0].episode;season&&(seasonNow=document.querySelector(`.${season}`).value),ep&&(epNow=document.querySelector(`.${ep}`).value);const dataVideo=dataCate[0].item.filter(item=>item.season===seasonNow&&item.episode===epNow);document.querySelector(".video_kn_2_0_0__video").innerHTML=`\n        <div class="video_kn_2_0_0__thumb"><img width="664" height="363" src="${dataVideo[0].thumb?dataVideo[0].thumb:getThumbYoutube(dataVideo[0].link)}" alt=""><a href="${dataVideo[0].link}" class="video_kn_2_0_0__play" target="_blank"><img width="208" height="208" src="${video_kn_2_0_0_url}images/play.webp" alt=""></a></div>\n        <div class="video_kn_2_0_0__title">\n            <span class="video_kn_2_0_0__name">${dataCate[0].category}</span>\n            <span class="video_kn_2_0_0__ep">${dataVideo[0].episode}</span>\n        </div>\n    `},renderVideoBox=data=>{const dataItem=data[0];document.querySelector(".video_kn_2_0_0__inner").innerHTML=`\n    <div class="video_kn_2_0_0__select">\n        <div class="video_kn_2_0_0__thumbCate">\n            <img width="271" height="275" src="${dataItem.thumb}" alt="">\n        </div>\n        <div class="video_kn_2_0_0__selectVideo">\n            <select class="video_kn_2_0_0__selectChoice video_kn_2_0_0__selectChoice--ss" onchange="renderSeasonEp('${cateVideo}', 'video_kn_2_0_0__selectChoice--ss')"></select>\n            <select class="video_kn_2_0_0__selectChoice video_kn_2_0_0__selectChoice--ep" onchange="renderVideoLink('${cateVideo}', 'video_kn_2_0_0__selectChoice--ss', 'video_kn_2_0_0__selectChoice--ep')"></select>\n        </div>\n        <p class="video_kn_2_0_0__desc">\n            ${dataItem.description}\n        </p>\n    </div>\n    <div class="video_kn_2_0_0__video"></div>\n    `,renderSeasonEp(cateVideo),renderVideoLink(cateVideo)},renderVideoLinkMB=(cate,season,ep)=>{const dataCate=filterDataVideo(cate),dataVideo=dataCate[0].item.filter(item=>item.season===season&&item.episode===ep);document.querySelector(".video_kn_2_0_0__video").innerHTML=`\n        <div class="video_kn_2_0_0__thumb"><img width="664" height="363" src="${dataVideo[0].thumb?dataVideo[0].thumb:getThumbYoutube(dataVideo[0].link)}" alt=""><a href="${dataVideo[0].link}" class="video_kn_2_0_0__play" target="_blank"><img width="208" height="208" src="${video_kn_2_0_0_url}images/play.webp" alt=""></a></div>\n        <div class="video_kn_2_0_0__title">\n            <span class="video_kn_2_0_0__name">${dataCate[0].category}</span>\n            <span class="video_kn_2_0_0__ep">${dataVideo[0].episode}</span>\n        </div>\n    `},renderVideoBoxMb=()=>{let html="";for(let i=0;i<video_kn_2_0_0_data.length;i++)for(let j=0;j<video_kn_2_0_0_data[i].item.length;j++)html+=`\n            <div>\n            <div class="video_kn_2_0_0__item" onclick="renderVideoLinkMB('${video_kn_2_0_0_data[i].category}', '${video_kn_2_0_0_data[i].item[j].season}', '${video_kn_2_0_0_data[i].item[j].episode}')">\n                <div class="video_kn_2_0_0__titleItem">${video_kn_2_0_0_data[i].category} <br> ${video_kn_2_0_0_data[i].item[j].season} ${video_kn_2_0_0_data[i].item[j].episode}</div>\n                <div class="video_kn_2_0_0__thumb">\n                    <img width="271" height="275" src="${video_kn_2_0_0_data[i].thumb}" alt="">\n                </div>\n            </div>\n            </div>\n            `;document.querySelector(".video_kn_2_0_0__inner").innerHTML=`\n    <div class="video_kn_2_0_0__select">${html}</div>\n    <div class="video_kn_2_0_0__video">123</div>\n    `,renderVideoLinkMB(cateVideo,video_kn_2_0_0_data[0].item[0].season,video_kn_2_0_0_data[0].item[0].episode)},renderVideo=()=>{renderCate(),renderVideoBox(filterDataVideo(cateVideo))},renderVideoMb=()=>{renderVideoBoxMb()},resizeVideo=()=>{window.innerWidth<767?renderVideoMb():renderVideo()};resizeVideo();
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://benhvienthammykangnam.vn/css/lib/lib.min.css">
    <link rel="stylesheet" href="media/sass/main.min.css">
    <title>Hình ảnh khách hàng</title>
</head>

<body>

    <section id="page1" class="screen1">
        <div class="container">
            <div class="screen1__box">
                <div class="screen1__menu">
                    <img width="17" height="9" class="lazy" data-src="media/images/icon.webp" alt="">
                    <input type="text" onclick="inputHidden()" value="Dịch vụ nâng mũi" id="inputHidden">
                    <ul id="menuItems" class="screen1__menuItems">
                        <!-- Thêm các mục menu cho các dịch vụ -->
                    </ul>
                </div>
                <div class="screen1__detail">
                    <div class="screen1__title">
                        hình ảnh khách hàng
                    </div>
                    <div class="screen1__line"></div>
                    <div class="screen1__des">
                        Chuyên khoa Thẩm mỹ hàm mặt Kangnam sở hữu đội ngũ chuyên gia, y bác sĩ hàng đầu, thuộc ekip
                        chương
                        trình Hành trình lột xác. Đơn vị "hiếm" thực hiện được các ca thẩm mỹ hàm mặt phức tạp với trang
                        bị máy
                        móc, thiết bị tốt nhất
                    </div>
                    <div class="screen1__pic">
                        <!-- Thêm các thẻ <div> để bao bọc hình ảnh -->
                    </div>
                    <div class="screen1__btn">
                        <button id="screen1__viewMore">Hiển thị thêm</button>
                    </div>
                    <div class="screen1__btn screen1__btnHide">
                        <button id="screen1__hide">Rút gọn</button>
                    </div>
                    <div class="pagination">
                        <a href="#" class="pagination__item" id="prev">&laquo;</a>
                        <a href="#" class="pagination__item" id="1">1</a>
                        <a href="#" class="pagination__item" id="2">2</a>
                        <a href="#" class="pagination__item" id="3">3</a>
                        <a href="#" class="pagination__item" id="4">4</a>
                        <a href="#" class="pagination__item" id="5">5</a>
                        <a href="#" class="pagination__item" id="next">&raquo;</a>
                    </div>
                </div>
            </div>

        </div>
    </section>
    <script>
        let images = '/cp/pages/hinh-anh-khach-hang/';
        var services = [
            {
                name: "Dịch vụ nâng mũi",
                images: [
                    `${images}media/images/nangmui-kh1.webp`,
                    `${images}media/images/nangmui-kh2.webp`,
                    `${images}media/images/nangmui-kh3.webp`,
                    `${images}media/images/nangmui-kh4.webp`,
                    `${images}media/images/nangmui-kh5.webp`,
                    `${images}media/images/nangmui-kh6.webp`
                    // Thêm các đường dẫn hình ảnh khác cho dịch vụ 1
                ]
            },
            {
                name: "Dịch vụ 2",
                images: [
                    `${images}media/images/pic2.jpg`,
                    `${images}media/images/pic2.jpg`,
                    `${images}media/images/pic2.jpg`,
                    `${images}media/images/pic2.jpg`,
                    `${images}media/images/pic2.jpg`,
                    `${images}media/images/pic2.jpg`,
                    `${images}media/images/pic1.jpg`
                    // Thêm các đường dẫn hình ảnh khác cho dịch vụ 2
                ]
            },
            {
                name: "Dịch vụ 3",
                images: [
                    `${images}media/images/pic1.jpg`,
                    `${images}media/images/pic1.jpg`,
                    `${images}media/images/pic1.jpg`
                    // Thêm các đường dẫn hình ảnh khác cho dịch vụ 3
                ]
            }
            // Thêm các đối tượng dịch vụ khác vào mảng services
        ];
        var menuItems = document.getElementById("menuItems");
        var imageContainer = document.querySelector(".screen1__pic");
        var viewMoreButton = document.getElementById("screen1__viewMore");
        var hideButton = document.getElementById("screen1__hide");
        var currentServiceId = 0; // Biến để lưu trữ ID của dịch vụ hiện tại

        function showImage(serviceId, element) {
            var serviceImages = services[serviceId].images;
            var imageElements = "";
            for (var i = 0; i < serviceImages.length; i++) {
                imageElements +=
                    '<div class="screen1__item"><img width="327" height="259" src="' +
                    serviceImages[i] +
                    '" alt=""></div>';
            }
            imageContainer.innerHTML = imageElements;
            for (var i = 0; i < menuItems.children.length; i++) {
                menuItems.children[i].classList.remove("active");
            }
            element.classList.add("active");
            currentServiceId = serviceId; // Cập nhật ID của dịch vụ hiện tại

            // Kiểm tra và hiển thị hoặc ẩn nút "Hiển thị thêm" và "Rút gọn" dựa trên số lượng hình ảnh
            if (serviceImages.length <= 4) {
                viewMoreButton.style.display = "none";
                hideButton.style.display = "none";
            } else {
                viewMoreButton.style.display = "block";
                hideButton.style.display = "none";
            }

            // Ẩn các hình ảnh từ hình ảnh thứ 7 trở đi
            for (var i = 4; i < serviceImages.length; i++) {
                imageContainer.children[i].style.display = "none";
            }

            document.getElementById("inputHidden").value = services[serviceId].name;
            var screenWidth =
                window.innerWidth ||
                document.documentElement.clientWidth ||
                document.body.clientWidth;
            if (screenWidth <= 767) {
                for (var i = 0; i < menuItems.children.length; i++) {
                    menuItems.children[i].classList.add("hidden");
                }
            } else {
            }
        }

        for (var i = 0; i < services.length; i++) {
            var menuItem = document.createElement("li");
            menuItem.classList.add("menu__item");
            menuItem.innerText = services[i].name;
            menuItem.setAttribute("onclick", "showImage(" + i + ", this)");
            menuItems.appendChild(menuItem);
        }

        showImage(0, document.querySelector(".menu__item"));

        // Xử lý sự kiện khi click vào nút "Hiển thị thêm"
        viewMoreButton.addEventListener("click", function () {
            // Hiển thị tất cả các hình ảnh từ hình ảnh thứ 5 trở đi
            var serviceImages = services[currentServiceId].images;
            for (var i = 4; i < serviceImages.length; i++) {
                imageContainer.children[i].style.display = "block";
            }
            // Ẩn nút "Hiển thị thêm" và hiển thị nút "Rút gọn"
            viewMoreButton.style.display = "none";
            hideButton.style.display = "block";
        });

        // Xử lý sự kiện khi click vào nút "Rút gọn"
        hideButton.addEventListener("click", function () {
            // Ẩn các hình ảnh từ hình ảnh thứ 7 trở đi
            var serviceImages = services[currentServiceId].images;
            for (var i = 4; i < serviceImages.length; i++) {
                imageContainer.children[i].style.display = "none";
            }
            // Hiển thị nút "Hiển thị thêm" và ẩn nút "Rút gọn"
            viewMoreButton.style.display = "block";
            hideButton.style.display = "none";
        });

        // Kiểm tra và hiển thị hoặc ẩn nút "Hiển thị thêm" và "Rút gọn" khi tải trang
        var initialServiceImages = services[currentServiceId].images;
        if (initialServiceImages.length <= 4) {
            viewMoreButton.style.display = "none";
            hideButton.style.display = "none";
        } else {
            viewMoreButton.style.display = "block";
            hideButton.style.display = "none";
            for (var i = 4; i < initialServiceImages.length; i++) {
                imageContainer.children[i].style.display = "none";
            }
        }

        function changeMenuStyle() {
            var screenWidth =
                window.innerWidth ||
                document.documentElement.clientWidth ||
                document.body.clientWidth;
            if (screenWidth <= 767) {
                for (var i = 0; i < menuItems.children.length; i++) {
                    menuItems.children[i].classList.add("hidden");
                }
            } else {
            }
        }

        // // Gọi hàm changeMenuStyle khi trang được tải và khi kích thước màn hình thay đổi
        window.addEventListener("load", changeMenuStyle);
        window.addEventListener("resize", changeMenuStyle);

        function inputHidden() {
            for (var i = 0; i < menuItems.children.length; i++) {
                menuItems.children[i].classList.remove("hidden");
            }
        }

        var itemsPerPage = 4; // Số lượng mục hiển thị trên mỗi trang
        var currentPage = 1; // Trang hiện tại

        function showPage(page) {
            var startIndex = (page - 1) * itemsPerPage;
            var endIndex = startIndex + itemsPerPage;
            var serviceImages = services[currentServiceId].images.slice(
                startIndex,
                endIndex
            );

            var imageElements = "";
            for (var i = 0; i < serviceImages.length; i++) {
                imageElements +=
                    '<div class="screen1__item"><img width="327" height="259" src="' +
                    serviceImages[i] +
                    '" alt=""></div>';
            }
            imageContainer.innerHTML = imageElements;
        }

        function createPagination() {
            var totalItems = services[currentServiceId].images.length;
            var totalPages = Math.ceil(totalItems / itemsPerPage);

            var paginationElement = document.querySelector(".pagination");
            paginationElement.innerHTML = "";

            var prevButton = document.createElement("a");
            prevButton.href = "#";
            prevButton.classList.add("pagination__item");
            prevButton.id = "prev";
            prevButton.innerHTML = "&laquo;";
            paginationElement.appendChild(prevButton);

            for (var i = 1; i <= totalPages; i++) {
                var pageButton = document.createElement("a");
                pageButton.href = "#";
                pageButton.classList.add("pagination__item");
                pageButton.id = i;
                pageButton.innerHTML = i;
                paginationElement.appendChild(pageButton);

                // Kích hoạt số 1 khi trang được tải lần đầu tiên
                if (i === 1) {
                    pageButton.classList.add("active");
                }
            }

            var nextButton = document.createElement("a");
            nextButton.href = "#";
            nextButton.classList.add("pagination__item");
            nextButton.id = "next";
            nextButton.innerHTML = "&raquo;";
            paginationElement.appendChild(nextButton);
        }

        function changePage(page) {
            currentPage = page;
            showPage(currentPage);

            var paginationItems = document.querySelectorAll(".pagination__item");
            for (var i = 0; i < paginationItems.length; i++) {
                paginationItems[i].classList.remove("active");
            }
            document.getElementById(currentPage).classList.add("active");

            // Disable/enable prev/next buttons
            if (currentPage == 1) {
                document.getElementById("prev").classList.add("disabled");
            } else {
                document.getElementById("prev").classList.remove("disabled");
            }
            if (currentPage == totalPages) {
                document.getElementById("next").classList.add("disabled");
            } else {
                document.getElementById("next").classList.remove("disabled");
            }
        }

        var totalItems = services[currentServiceId].images.length;
        var totalPages = Math.ceil(totalItems / itemsPerPage);
        createPagination();
        showPage(currentPage);

        document.getElementById("prev").addEventListener("click", function () {
            if (currentPage > 1) {
                changePage(currentPage - 1);
            }
        });

        document.getElementById("next").addEventListener("click", function () {
            if (currentPage < totalPages) {
                changePage(currentPage + 1);
            }
        });

        var paginationItems = document.querySelectorAll(".pagination__item");
        for (var i = 0; i < paginationItems.length; i++) {
            paginationItems[i].addEventListener("click", function () {
                var page = parseInt(this.id);
                if (page) {
                    changePage(page);
                }
            });
        }

        window.addEventListener("scroll", function () {
            // Lazy Images
            myLazy("img.lazy", "src");
            myLazy("source.lazy", "srcset");
            // Lazy Class
            // myLazy('.lazy-bg', 'img-bg', 'lazy-bg');
            myLazy(".load", "loaded", "load");
            // myLazy('.slide_run', 'slide', 'slide_run');
        });

        lazyShowScreen("img.lazy", "src");

        function myLazy(section, attr, sectionDelete) {
            const section_loads = document.querySelectorAll(section);
            let winTop = window.innerHeight;

            for (let i = 0; i < section_loads.length; i++) {
                let pos_top = section_loads[i].getBoundingClientRect().top;
                let pos_bottom = section_loads[i].getBoundingClientRect().bottom;
                if (pos_top <= winTop && pos_bottom >= 0) {
                    if (sectionDelete) {
                        section_loads[i].classList.remove(sectionDelete);
                        section_loads[i].classList.add(attr);
                    } else if (attr == "srcset") {
                        section_loads[i].srcset = section_loads[i].dataset.srcset;
                        section_loads[i].classList.remove("lazy");
                    } else if (attr == "src") {
                        section_loads[i].src = section_loads[i].dataset.src;
                        section_loads[i].classList.remove("lazy");
                    } else {
                        console.log(`Sorry, we are out of ${attr}.`);
                    }
                }
            }
        }

        function lazyShowScreen(section, attr, sectionDelete) {
            const section_loads = document.querySelectorAll(section);
            console.log(section_loads);
            let win_height = screen.height;

            for (let i = 0; i < section_loads.length; i++) {
                if (section_loads[i].getBoundingClientRect().top < win_height) {
                    console.log(section_loads[i].getBoundingClientRect().top);
                    console.log(win_height);
                    if (sectionDelete) {
                        section_loads[i].classList.remove(sectionDelete);
                        section_loads[i].classList.add(attr);
                    } else if (attr == "srcset") {
                        section_loads[i].srcset = section_loads[i].dataset.srcset;
                        section_loads[i].classList.remove("lazy");
                    } else if (attr == "src") {
                        section_loads[i].src = section_loads[i].dataset.src;
                        section_loads[i].classList.remove("lazy");
                    } else {
                        console.log(`Sorry, we are out of ${attr}.`);
                    }
                }
            }
        }
    </script>
    <script src="https://benhvienthammykangnam.vn/css/landing/option.min.js"></script>
</body>

</html>
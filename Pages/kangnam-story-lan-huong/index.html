<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image"
        content="https://benhvienthammykangnam.vn/kangnam-story/lan-huong/media/images/thumb.jpg" />
    <link rel="stylesheet" href="https://benhvienthammykangnam.vn/css/lib/lib.min.css">
    <link rel="stylesheet" href="media/sass/main.min.css?ver=1">
    <title>Khách hàng Lan Hương</title>
</head>

<body>
    <section class="storyDetail_kn_1_0_0">
        <div class="container">
            <div class="storyDetail_kn_1_0_0__page1">
                <picture>
                    <source media="(min-width:767px)" srcset="media/images/img-page1.jpg">
                    <img width="430" height="300" src="media/images/img-page1-mb.jpg"
                        alt="Lan Hương quyết định lựa chọn dịch vụ chỉnh hàm hô, trượt cằm tại Kangnam">
                </picture>
                <div class="storyDetail_kn_1_0_0__desc">
                    Là một cô gái trẻ, nhưng Lan Hương lại gặp phải tình trạng <br> hàm hô nặng, mắt một mí cũng như
                    sống mũi thấp khiến cô <br>
                    thường phải đeo khẩu trang và ngại giao tiếp với mọi người <br> xung quanh. Sau nhiều năm sống chật
                    vật, cô quyết định <br>
                    chỉnh sửa chiếc hàm hô để có được sự tự tin giống như <br> bao người khác.
                </div>
            </div>
            <div class="storyDetail_kn_1_0_0__page2">
                <picture>
                    <source media="(min-width:767px)" srcset="media/images/img-page2.jpg">
                    <img width="403" height="449" src="media/images/img-page2-mb.jpg"
                        alt="Phương pháp của Kangnam dành cho Lan Hương">
                </picture>
            </div>
            <div class="storyDetail_kn_1_0_0__page3">
                <img width="1140" height="504" src="media/images/img-page3.jpg"
                    alt="Thay đổi để trở nên tự tin và tỏa sáng">
            </div>
            <div class="storyDetail_kn_1_0_0__bgTitle">
                <p class="storyDetail_kn_1_0_0__titleNote">Tạm biệt quá khứ hướng đến <br> tương lai của cô nàng Lan
                    Hương</p>
            </div>
            <div class="storyDetail_kn_1_0_0__images">
                <div class="storyDetail_kn_1_0_0__imagesLeft">
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="665" height="735" src="media/images/img1-page4.jpg"
                            alt="Hình ảnh thực tế của Lan Hương sau khi chỉnh hàm">
                    </div>
                    <div class="storyDetail_kn_1_0_0__video modal-clip" data-video="1aNj8njW3mQ"
                        data-modal="modal-clip">
                        <div class="storyDetail_kn_1_0_0__bgOverlay"></div>
                        <img width="665" height="374" class="lazy" src="media/images/thumb-video.jpg"
                            alt="Hành trình lột xác của cô nàng khẩu trang">
                        <img class="storyDetail_kn_1_0_0__play" width="100" height="100"
                            src="media/images/icon-play.png?ver=1" alt="play">
                    </div>
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="662" height="542" src="media/images/img6-page4.jpg"
                            alt="Khuyết điểm hàm hô của Lan Hương được khắc phục toàn diện">
                    </div>
                </div>
                <div class="storyDetail_kn_1_0_0__imagesRight">
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="475" height="414" src="media/images/img2-page4.jpg"
                            alt="Tạo dáng cằm cân đối theo tỉ lệ vàng">
                    </div>
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="475" height="414" src="media/images/img3-page4.jpg"
                            alt="Sửa hàm khiến khuôn mặt Lan Hương thon gọn, trẻ trung hơn">
                    </div>
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="475" height="414" src="media/images/img4-page4.jpg"
                            alt="Lan Hương lột xác thành công tại Kangnam">
                    </div>
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="475" height="414" src="media/images/img5-page4.jpg"
                            alt="Lan Hương được các bác sĩ Kangnam tiếp nhận và phẫu thuật thành công">
                    </div>
                </div>
            </div>
            <div class="storyDetail_kn_1_0_0__note">
                <h3 class="storyDetail_kn_1_0_0__textNote">Bệnh viện Thẩm mỹ Kangnam - Nơi hàng triệu khách hàng gửi
                    trọn
                    niềm tin</h3>
            </div>
            <div class="storyDetail_kn_1_0_0__boxText">
                <h2 class="storyDetail_kn_1_0_0__titleDoctor">
                    Đội ngũ bác sĩ của Kangnam
                </h2>
                <h3 class="storyDetail_kn_1_0_0__descDoctor">
                    "Chúng tôi luôn nỗ lực kiến tạo nhan sắc cho khách hàng <br> bằng cả tình yêu, tâm huyết, lòng nhiệt
                    thành"
                </h3>
            </div>
            <div class="doctor_kn_2_1_0">
                <div class="doctor_kn_2_1_0__main">
                    <div class="doctor_kn_2_1_0__category"></div>
                    <div class="doctor_kn_2_1_0__doctor"></div>

                    <div class="doctor_kn_2_1_0__pagination">

                    </div>
                </div>
            </div>
        </div>
    </section>
</body>

<script>
    // Get API User
    const getDoctor = async () => {
        const response = await fetch(`https://benhvienthammykangnam.vn/wp-json/api/v1/doctor-list/`);
        const data = await response.json();
        console.log("data: ", data);
        return data;
    };

    let doctor_kn_2_1_0__data = [];

    const categories = ['Bác sĩ phẫu thuật thẩm mỹ', 'Bác sĩ da liễu', 'Bác sĩ răng hàm mặt']

    let cate = 'Bác sĩ phẫu thuật thẩm mỹ';
    let cateIndex = 0
    const filterData = (filter) => doctor_kn_2_1_0__data.filter(item => item.category === filter)
    const handleCate = (item) => {
        cate = item
        cateIndex = categories.indexOf(item)
        render()
    }
    const nextCate = () => {
        if (cateIndex < categories.length - 1) {
            cateIndex++
        }
        cate = categories[cateIndex]
        render()
    }
    const preCate = () => {
        if (cateIndex > 0) {
            cateIndex--
        }
        cate = categories[cateIndex]
        render()
    }
    const renderDoctor = (data) => {
        document.querySelector('.doctor_kn_2_1_0__doctor')
            .innerHTML = data.map((item) => {
                let experience = '';
                if (item.experience) {
                    experience = `<span>${item.experience}</span>`;
                }
                return `
                    <a class="doctor_kn_2_1_0__item" href="${item.url}">
                    <div class="doctor_kn_2_1_0__img">
                        <img width="269" height="456" src="${item.image}" alt="${item.name}">
                    </div>
                    <div class="doctor_kn_2_1_0__box">
                        <div class="doctor_kn_2_1_0__info">
                            <div class="doctor_kn_2_1_0__content">                                
                                <div class="doctor_kn_2_1_0__degree">${item.degree}</div>
                                <h2 class="doctor_kn_2_1_0__name">${item.name}</h2>
                            </div>
                            ${experience}
                        </div>
                        <div class="doctor_kn_2_1_0__line"></div>
                        <div class="doctor_kn_2_1_0__pos">${item.pos}</div>
                    </div>
                </a>`
            }).join('')
    }
    const renderCate = () => {
        document.querySelector('.doctor_kn_2_1_0__category').innerHTML = ` 
        <button onclick="preCate()">❮</button>
        <ul>
            ${categories.map(item => {
            return `<li class="${cate === item ? 'doctor_kn_2_1_0__categoryActive' : ''}" onclick="handleCate('${item}')">${item}</li>`
        }).join('')}
        </ul>
        <button onclick="nextCate()">❯</button>`
    }
    const renderPagination = () => {
        const data = filterData(cate)
        if (data.length <= 8) {
            document.querySelector('.doctor_kn_2_1_0__pagination').innerHTML = ''
            return
        }
        document.querySelector('.doctor_kn_2_1_0__pagination').innerHTML = ` 
        <button>❮</button>
        <ul>
            <li class="doctor_kn_2_1_0__active">1</li>
            <li>2</li>
            <li>3</li>
        </ul>
        <button>❯</button>`
    }

    const render = () => {
        renderCate()
        // renderPagination()
        renderDoctor(filterData(cate))
    }

    window.onload = async () => {
        doctor_kn_2_1_0__data = await getDoctor()
        render()
    }
</script>

<script src="https://benhvienthammykangnam.vn/css/lib/lib.min.js"></script>
<script src="https://benhvienthammykangnam.vn/css/landing/option.min.js"></script>

</html>
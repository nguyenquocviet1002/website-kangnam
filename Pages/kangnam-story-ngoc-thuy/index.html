<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image"
        content="https://benhvienthammykangnam.vn/kangnam-story/ngoc-thuy/media/images/thumb.jpg" />
    <link rel="stylesheet" href="https://benhvienthammykangnam.vn/css/lib/lib.min.css">
    <link rel="stylesheet" href="media/sass/main.min.css?ver=1">
    <title>Khách hàng Ngọc Thúy</title>
</head>

<body>
    <section class="storyDetail_kn_1_0_0">
        <div class="container">
            <div class="storyDetail_kn_1_0_0__page1">
                <picture>
                    <source media="(min-width:767px)" srcset="media/images/img-page1.jpg">
                    <img width="640" height="478" src="media/images/img-page1-mb.jpg" alt="">
                </picture>
                <div class="storyDetail_kn_1_0_0__desc">
                    Ngọc Thúy là người mẹ đơn thân. Khó có con, vậy nên chị luôn trân trọng khoảnh khắc được gần
                    con, nhưng khoảng thời gian dài chị nhận ra, để có thể có được tự tin và chăm lo cho cuộc
                    sống của con tốt hơn, chị cần phải thay đổi. Điều đơn giản nhất, chính là biến mình trở thành
                    một phiên bản tốt hơn.
                </div>
            </div>
            <div class="storyDetail_kn_1_0_0__page2">
                <div class="storyDetail_kn_1_0_0__item">
                    <div class="storyDetail_kn_1_0_0__pic">
                        <img width="284" height="286" src="media/images/img1-page2.jpg" alt="">
                    </div>
                    <div class="storyDetail_kn_1_0_0__text">
                        Vòng 1 sa trễ <br> sau sinh
                    </div>
                </div>
                <div class="storyDetail_kn_1_0_0__item">
                    <div class="storyDetail_kn_1_0_0__pic">
                        <img width="284" height="286" src="media/images/img2-page2.jpg" alt="">
                    </div>
                    <div class="storyDetail_kn_1_0_0__text">
                        Da lão hóa, <br> nhiều nếp nhăn
                    </div>
                </div>
                <div class="storyDetail_kn_1_0_0__item">
                    <div class="storyDetail_kn_1_0_0__pic">
                        <img width="284" height="286" src="media/images/img3-page2.jpg" alt="">
                    </div>
                    <div class="storyDetail_kn_1_0_0__text">
                        Lỗ chân lông to, <br> da không đều màu
                    </div>
                </div>
            </div>
            <div class="storyDetail_kn_1_0_0__page3">
                <img width="1140" height="652" src="media/images/img-page3.jpg" alt="">
            </div>
            <div class="storyDetail_kn_1_0_0__bgTitle">
                <p class="storyDetail_kn_1_0_0__titleNote">Mẹ đơn thân nâng tầm nhan sắc <br> cùng Kangnam</p>
            </div>
            <div class="storyDetail_kn_1_0_0__images">
                <div class="storyDetail_kn_1_0_0__imagesLeft">
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="665" height="732" src="media/images/img1-page4.jpg" alt="">
                    </div>
                    <div class="storyDetail_kn_1_0_0__video modal-clip" data-video="QuZ8VR7Z-qs"
                        data-modal="modal-clip">
                        <div class="storyDetail_kn_1_0_0__bgOverlay"></div>
                        <img width="664" height="373" class="lazy" src="media/images/thumb-video.jpg" alt="">
                        <img class="storyDetail_kn_1_0_0__play" width="100" height="100"
                            src="media/images/icon-play.png?ver=1" alt="">
                    </div>
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="664" height="517" src="media/images/img6-page4.jpg" alt="">
                    </div>
                </div>
                <div class="storyDetail_kn_1_0_0__imagesRight">
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="477" height="413" src="media/images/img2-page4.jpg" alt="">
                    </div>
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="474" height="414" src="media/images/img3-page4.jpg" alt="">
                    </div>
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="474" height="409" src="media/images/img4-page4.jpg" alt="">
                    </div>
                    <div class="storyDetail_kn_1_0_0__img">
                        <img width="477" height="383" src="media/images/img5-page4.jpg" alt="">
                    </div>
                </div>
            </div>
            <div class="storyDetail_kn_1_0_0__note">
                <h3 class="storyDetail_kn_1_0_0__textNote">Bệnh viện Thẩm mỹ Kangnam - Nơi hàng triệu khách hàng gửi
                    trọn
                    niềm tin</h3>
            </div>
            <div class="storyDetail_kn_1_0_0__boxText">
                <h2 class="storyDetail_kn_1_0_0__titleDoctor">
                    Đội ngũ bác sĩ của Kangnam
                </h2>
                <h3 class="storyDetail_kn_1_0_0__descDoctor">
                    "Chúng tôi luôn nỗ lực kiến tạo nhan sắc cho khách hàng <br> bằng cả tình yêu, tâm huyết, lòng nhiệt
                    thành"
                </h3>
            </div>
            <div class="doctor_kn_2_1_0">
                <div class="doctor_kn_2_1_0__main">
                    <div class="doctor_kn_2_1_0__category"></div>
                    <div class="doctor_kn_2_1_0__doctor"></div>

                    <div class="doctor_kn_2_1_0__pagination">

                    </div>
                </div>
            </div>
        </div>
    </section>
</body>

<script>
    // Get API User
    const getDoctor = async () => {
        const response = await fetch(`https://benhvienthammykangnam.vn/wp-json/api/v1/doctor-list/`);
        const data = await response.json();
        console.log("data: ", data);
        return data;
    };

    let doctor_kn_2_1_0__data = [];

    const categories = ['Bác sĩ phẫu thuật thẩm mỹ', 'Bác sĩ da liễu', 'Bác sĩ răng hàm mặt']

    let cate = 'Bác sĩ phẫu thuật thẩm mỹ';
    let cateIndex = 0
    const filterData = (filter) => doctor_kn_2_1_0__data.filter(item => item.category === filter)
    const handleCate = (item) => {
        cate = item
        cateIndex = categories.indexOf(item)
        render()
    }
    const nextCate = () => {
        if (cateIndex < categories.length - 1) {
            cateIndex++
        }
        cate = categories[cateIndex]
        render()
    }
    const preCate = () => {
        if (cateIndex > 0) {
            cateIndex--
        }
        cate = categories[cateIndex]
        render()
    }
    const renderDoctor = (data) => {
        document.querySelector('.doctor_kn_2_1_0__doctor')
            .innerHTML = data.map((item) => {
                let experience = '';
                if (item.experience) {
                    experience = `<span>${item.experience}</span>`;
                }
                return `
                    <a class="doctor_kn_2_1_0__item" href="${item.url}">
                    <div class="doctor_kn_2_1_0__img">
                        <img width="269" height="456" src="${item.image}" alt="">
                    </div>
                    <div class="doctor_kn_2_1_0__box">
                        <div class="doctor_kn_2_1_0__info">
                            <div class="doctor_kn_2_1_0__content">                                
                                <div class="doctor_kn_2_1_0__degree">${item.degree}</div>
                                <h2 class="doctor_kn_2_1_0__name">${item.name}</h2>
                            </div>
                            ${experience}
                        </div>
                        <div class="doctor_kn_2_1_0__line"></div>
                        <div class="doctor_kn_2_1_0__pos">${item.pos}</div>
                    </div>
                </a>`
            }).join('')
    }
    const renderCate = () => {
        document.querySelector('.doctor_kn_2_1_0__category').innerHTML = ` 
        <button onclick="preCate()">❮</button>
        <ul>
            ${categories.map(item => {
            return `<li class="${cate === item ? 'doctor_kn_2_1_0__categoryActive' : ''}" onclick="handleCate('${item}')">${item}</li>`
        }).join('')}
        </ul>
        <button onclick="nextCate()">❯</button>`
    }
    const renderPagination = () => {
        const data = filterData(cate)
        if (data.length <= 8) {
            document.querySelector('.doctor_kn_2_1_0__pagination').innerHTML = ''
            return
        }
        document.querySelector('.doctor_kn_2_1_0__pagination').innerHTML = ` 
        <button>❮</button>
        <ul>
            <li class="doctor_kn_2_1_0__active">1</li>
            <li>2</li>
            <li>3</li>
        </ul>
        <button>❯</button>`
    }

    const render = () => {
        renderCate()
        // renderPagination()
        renderDoctor(filterData(cate))
    }

    window.onload = async () => {
        doctor_kn_2_1_0__data = await getDoctor()
        render()
    }
</script>

<script src="https://benhvienthammykangnam.vn/css/lib/lib.min.js"></script>
<script src="https://benhvienthammykangnam.vn/css/landing/option.min.js"></script>

</html>
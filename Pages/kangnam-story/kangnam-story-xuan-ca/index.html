<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="https://benhvienthammykangnam.vn/kangnam-story/xuan-ca/media/images/thumb.jpg" />
    <link rel="stylesheet" href="https://benhvienthammykangnam.vn/css/lib/lib.min.css">
    <link rel="stylesheet" href="media/sass/main.min.css?ver=2">
    <title>Khách hàng Xuân Ca</title>
</head>

<body>
    <section class="screen1 load">
        <div class="container">
            <img width="1047" height="872" class="lazy" data-src="media/images/page1-bg.jpg"
                alt="Tiktoker Xuân Ca để hào quang không chỉ lấp phía sau màn hình điện thoại">
        </div>
    </section>

    <section class="screen2 load">
        <div class="container">
            <div class="screen2__title">Đã từng PTTM <br> mà vẫn chưa ưng...</div>
            <img width="1323" height="588" class="lazy" data-src="media/images/page2-bg.jpg"
                alt="Đã từng PTTM mà vẫn chưa ưng...">
        </div>
    </section>

    <section class="screen3 load">
        <div class="container">
            <div class="screen3__title">Bật mí <b>Công thức</b><br>
                <b>Nâng cấp Diện mạo</b> cho Xuân Ca
            </div>
            <img width="1151" height="698" class="lazy" data-src="media/images/page3-bg.jpg"
                alt="Bật mí Công thức Nâng cấp Diện mạo cho Xuân Ca">
            <div class="screen3__link btn-price"><span>&#10148;</span><span>Khám phá Chi phí của Ca</span></div>
        </div>
    </section>

    <section class="screen4 load">
        <div class="container">
            <div class="screen4__title"><span>30 ngày</span> "Đẹp ảo hóa Đẹp thật"</div>
            <img width="1141" height="452" class="lazy" data-src="media/images/page4-p1.jpg"
                alt='30 ngày "Đẹp ảo hóa Đẹp thật"'>
            <img width="1141" height="678" class="lazy" data-src="media/images/page4-p2.jpg"
                alt='30 ngày "Đẹp ảo hóa Đẹp thật"'>
            <div class="screen4__video modal-clip" data-video="5DHHArRhU4g" data-modal="modal-clip">
                <img width="1200" height="728" class="lazy" data-src="media/images/page4-p3.jpg" alt="nhật ký lột xác">
                <div class="screen4__play">
                    <img width="100" height="100" class="lazy" data-src="media/images/icon-play.png"
                        alt="nhật ký lột xác">
                </div>
            </div>
        </div>
    </section>

    <section id="page5" class="screen5 load">
        <div class="container">
            <img width="1140" height="961" class="lazy" data-src="media/images/page5-p1.jpg"
                alt='Xuân Ca với nhan sắc cực slay'>
            <img width="1140" height="1048" class="lazy" data-src="media/images/page5-p2.jpg"
                alt='Xuân Ca với nhan sắc cực slay'>
        </div>
    </section>

    <div class="screen6 load" id="page6">
        <div class="container">
            <div class="screen6__box">
                <div class="screen6__title">Chạm để Đẹp <br> và Tỏa Hào quang</div>
                <form id="screen6__form">
                    <div style="display: none">
                        <input id="email-xc" name="email" type="text">
                        <input name="iemail" value="no@email.benhvienthammykangnam.vn" type="textbox"
                            placeholder="Email:">
                        <input name="referred" value="">
                        <input name="code_campaign" value="583971142">
                        <input name="name_campaign" value="[Kangnam] Sale Kangnam">
                        <input name="first_link" value="">
                        <input name="website" value="">
                        <input name="location" value="">
                    </div>
                    <div class="form-group">
                        <input type="text" name="iname" class="screen6__input" placeholder="Họ và tên">
                        <div class="form-message"></div>
                    </div>
                    <div class="form-group">
                        <input type="text" name="imob" class="screen6__input" placeholder="Số điện thoại">
                        <div class="form-message"></div>
                    </div>
                    <div class="form-group" style="display: none;">
                        <input type="text" name="itext" class="screen6__input" placeholder="Ghi chú">
                        <div class="form-message"></div>
                    </div>
                    <div class="screen6__submit">
                        <input type="submit" value="Chạm ngay">
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- <div class="storyDetail_kn_1_0_0__note">
            <h3 class="storyDetail_kn_1_0_0__textNote">Bệnh viện Thẩm mỹ Kangnam - Nơi hàng triệu khách hàng gửi
                trọn niềm tin</h3>
        </div> -->
        <div class="storyDetail_kn_1_0_0__boxText">
            <p class="storyDetail_kn_1_0_0__titleDoctor">
                Đội ngũ bác sĩ của Kangnam
            </p>
            <p class="storyDetail_kn_1_0_0__descDoctor">
                "Chúng tôi luôn nỗ lực kiến tạo nhan sắc cho khách hàng <br> bằng cả tình yêu, tâm huyết, lòng nhiệt
                thành"
            </p>
        </div>
        <div class="doctor_kn_2_1_0">
            <div class="doctor_kn_2_1_0__main">
                <div class="doctor_kn_2_1_0__category"></div>
                <div class="doctor_kn_2_1_0__doctor"></div>

                <div class="doctor_kn_2_1_0__pagination">

                </div>
            </div>
        </div>
    </div>

    <div class="cta click-hq">Chạm nhận hào quang</div>

    <script src="https://benhvienthammykangnam.vn/css/lib/lib.min.js"></script>
    <script src="https://benhvienthammykangnam.vn/css/landing/option.min.js?ver=10"></script>
    <script src="https://benhvienthammykangnam.vn/css/lib/js_v2.min.js?ver=10"></script>

    <script>
        const modalPrice = `
        <div class="modal modal__price" id="modal-price" style="display: flex;">
            <div class="modal-bg" onclick="removeModal('#modal-price')"></div>
            <div class="modal-box animate-pop">
                <div class="modal-close" onClick="removeModal('#modal-price')">×</div>
                <div class="modal-body">
                    <img width="768" height="1092" src="media/images/chi-phi.jpg" alt="">
                    <div class="modal__priceButton" onclick="myFunction()">Nhận tư vấn ngay</div>
                </div>
            </div>
        </div>
        `;

        document.querySelectorAll('.btn-price').forEach(item => {
            item.addEventListener('click', () => {
                document.body.insertAdjacentHTML("beforeend", modalPrice);
            })
        })

        const modalForm = `
        <div class="modal modal__form" id="modal-form" style="display: flex;">
            <div class="modal-bg" onclick="removeModal('#modal-form')"></div>
            <div class="modal-box animate-pop">
                <div class="modal-close" onClick="removeModal('#modal-form')">×</div>
                <div class="modal-body">
                    <img width="768" height="1092" src="media/images/form.jpg" alt="">
                    <div class="modal__formBody">
                        <form id="modal-formBox">
                            <div style="display: none">
                                <input id="email-pop" name="email" type="text">
                                <input name="iemail" value="no@email.benhvienthammykangnam.vn" type="textbox"
                                    placeholder="Email:">
                                <input name="referred" value="">
                                <input name="code_campaign" value="583971142">
                                <input name="name_campaign" value="[Kangnam] Sale Kangnam">
                                <input name="first_link" value="">
                                <input name="website" value="">
                                <input name="location" value="">
                            </div>
                            <div class="form-group">
                                <input type="text" name="iname" class="modal__formInput" placeholder="Họ và tên">
                                <div class="form-message"></div>
                            </div>
                            <div class="form-group">
                                <input type="text" name="imob" class="modal__formInput" placeholder="Số điện thoại">
                                <div class="form-message"></div>
                            </div>
                            <div class="form-group">
                                <select class="modal__formInput" name="address">
                                    <option value="">Chi nhánh gần bạn</option>
                                    <option value="Hà Nội 1 - 190 Trường Chinh, Đống Đa">Hà Nội 1: 190 Trường Chinh,
                                        Đống Đa</option>
                                    <option value="Hà Nội 2 - 93 Bạch Mai, Hai Bà Trưng">Hà Nội 2: 93 Bạch Mai, Hai Bà
                                        Trưng</option>
                                    <option value="Sài Gòn 1 - 666 CM Tháng 8, Q. Tân Bình">Sài Gòn 1: 666 CM Tháng 8,
                                        Q. Tân Bình</option>
                                    <option value="Sài Gòn 2 - 218 Nguyễn Trãi, P.3, Q.5">Sài Gòn 2: 218 Nguyễn Trãi,
                                        P.3, Q.5</option>
                                    <option value="Bắc Ninh - 519 - 521 Ngô Gia Tự, P. Tiền An">Bắc Ninh: 519 - 521 Ngô
                                        Gia Tự, P. Tiền An</option>
                                    <option value="Hải Phòng - 378 Tô Hiệu, Q. Lê Chân">Hải Phòng: 378 Tô Hiệu, Q. Lê
                                        Chân</option>
                                    <option value="Thái Nguyên - 194 Phan Đình Phùng">Thái Nguyên: 194 Phan Đình Phùng
                                    </option>
                                    <option value="Thanh Hóa - 103 Nguyễn Trãi, P. Ba Đình">Thanh Hóa: 103 Nguyễn Trãi,
                                        P. Ba Đình</option>
                                    <option value="Nghệ An - 148 Nguyễn Văn Cừ, P. Hưng Phúc">Nghệ An: 148 Nguyễn Văn
                                        Cừ, P. Hưng Phúc</option>
                                    <option value="Đà Nẵng - 293 Hùng Vương, Q. Thanh Khê">Đà Nẵng: 293 Hùng Vương, Q.
                                        Thanh Khê</option>
                                    <option value="Buôn Ma Thuột - 26 Lê Thánh Tông, Thắng Lợi">Buôn Ma Thuột: 26 Lê
                                        Thánh Tông, Thắng Lợi</option>
                                    <option value="Bình Dương - 688A CM Tháng 8, P. Chánh Nghĩa">Bình Dương: 688A CM
                                        Tháng 8, P. Chánh Nghĩa</option>
                                    <option value="Cần Thơ - 28 Lý Tự Trọng, Q. Ninh Kiều">Cần Thơ: 28 Lý Tự Trọng, Q.
                                        Ninh Kiều</option>
                                </select>
                                <div class="form-message"></div>
                            </div>
                            <div class="form-group">
                                <select class="modal__formInput" name="service">
                                    <option value="">Dịch vụ đăng ký</option>
                                    <option value="Nâng mũi">Nâng mũi</option>
                                    <option value="Cắt mí">Cắt mí</option>
                                    <option value="Nâng ngực">Nâng ngực</option>
                                    <option value="Giảm mỡ">Giảm mỡ</option>
                                    <option value="Chỉnh hình hàm mặt">Chỉnh hình hàm mặt</option>
                                    <option value="Trẻ hóa da">Trẻ hóa da</option>
                                    <option value="Khác">Khác</option>
                                </select>
                                <div class="form-message"></div>
                            </div>
                            <div class="form-group" style="display: none;">
                                <input type="text" name="itext" placeholder="Ghi chú">
                                <div class="form-message"></div>
                            </div>
                            <div class="modal__formSubmit">
                                <input type="submit" value="Đăng ký ngay nhận ưu đãi">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        `;

        document.querySelectorAll('.click-hq').forEach(item => {
            item.addEventListener('click', () => {
                document.body.insertAdjacentHTML("beforeend", modalForm);
                document.querySelector('#modal-formBox input[name="first_link"]').value = document.URL;
                document.querySelector('#modal-formBox input[name="website"]').value = document.referrer;
                getLocation().then((data) => {
                    document.querySelector('#modal-formBox input[name="location"]').value = data.city;
                });
                Validator({
                    form: '#modal-formBox',
                    errorSelector: '.form-message',
                    formGroupSelector: '.form-group',
                    rules: [
                        Validator.isRequired('input[name="imob"]'),
                        Validator.isRequired('input[name="iname"]'),
                        Validator.isMobile('input[name="imob"]'),
                        Validator.addInput('#modal-formBox input[name="itext"]', () => {
                            return `Chi nhánh:${document.querySelector('#modal-formBox select[name="address"]').value} + Dịch vụ quan tâm:${document.querySelector('#modal-formBox select[name="service"]').value}`;
                        }),
                    ],
                    onSubmit: function (data) {
                        if (document.querySelector('#modal-formBox #email-pop').value === '') {
                            document.querySelector('.modal__formSubmit input').value = 'Đang gửi thông tin';
                            document.querySelector('.modal__formSubmit input').setAttribute('disabled', '');
                            document.querySelector('.modal__formSubmit input').classList.add('seeding');

                            // console.log(data);
                            sendForm(data, 'Đăng ký thành công');
                        } else {
                            console.log('NOT SPAM!!!', document.querySelector('#modal-formBox #email-pop').value)
                        }
                        document.getElementById('modal-formBox').reset();
                    }
                });
            })
        })
        function myFunction() {
            removeModal('#modal-price');
            const element = document.getElementById("page6");
            window.scrollTo({
                top: element.offsetTop - 100,
                behavior: "smooth"
            });
        }
        const removeModal = (id) => {
            document.querySelector(id).remove();
        };
        // Get API User
        const getDoctor = async () => {
            const response = await fetch(`https://benhvienthammykangnam.vn/wp-json/api/v1/doctor-list/`);
            const data = await response.json();
            console.log("data: ", data);
            return data;
        };

        let doctor_kn_2_1_0__data = [];

        const categories = ['Bác sĩ phẫu thuật thẩm mỹ', 'Bác sĩ da liễu', 'Bác sĩ răng hàm mặt']

        let cate = 'Bác sĩ phẫu thuật thẩm mỹ';
        let cateIndex = 0
        const filterData = (filter) => {
            const arrDoctor = [];
            doctor_kn_2_1_0__data.map(item => {
                if (typeof item.category === 'string') {
                    if (item.category === filter) {
                        arrDoctor.push(item);
                    };
                }
                else {
                    for (let i = 0; i < item.category.length; i++) {
                        if (item.category[i] === filter) arrDoctor.push(item);
                    }
                }
            })
            return arrDoctor;
        }
        const handleCate = (item) => {
            cate = item
            cateIndex = categories.indexOf(item)
            render()
        }
        const nextCate = () => {
            if (cateIndex < categories.length - 1) {
                cateIndex++
            }
            cate = categories[cateIndex]
            render()
        }
        const preCate = () => {
            if (cateIndex > 0) {
                cateIndex--
            }
            cate = categories[cateIndex]
            render()
        }
        const renderDoctor = (data) => {
            document.querySelector('.doctor_kn_2_1_0__doctor')
                .innerHTML = data.map((item) => {
                    let experience = '';
                    if (item.experience) {
                        experience = `<span>${item.experience}</span>`;
                    }
                    return `
                        <a class="doctor_kn_2_1_0__item" href="${item.url}">
                        <div class="doctor_kn_2_1_0__img">
                            <img width="269" height="456" src="${item.image}" alt="${item.name}">
                        </div>
                        <div class="doctor_kn_2_1_0__box">
                            <div class="doctor_kn_2_1_0__info">
                                <div class="doctor_kn_2_1_0__content">                                
                                    <div class="doctor_kn_2_1_0__degree">${item.degree}</div>
                                    <h2 class="doctor_kn_2_1_0__name">${item.name}</h2>
                                </div>
                                ${experience}
                            </div>
                            <div class="doctor_kn_2_1_0__line"></div>
                            <div class="doctor_kn_2_1_0__pos">${item.pos}</div>
                        </div>
                    </a>`
                }).join('')
        }
        const renderCate = () => {
            document.querySelector('.doctor_kn_2_1_0__category').innerHTML = ` 
            <button onclick="preCate()">❮</button>
            <ul>
                ${categories.map(item => {
                return `<li class="${cate === item ? 'doctor_kn_2_1_0__categoryActive' : ''}" onclick="handleCate('${item}')">${item}</li>`
            }).join('')}
            </ul>
            <button onclick="nextCate()">❯</button>`
        }
        const renderPagination = () => {
            const data = filterData(cate)
            if (data.length <= 8) {
                document.querySelector('.doctor_kn_2_1_0__pagination').innerHTML = ''
                return
            }
            document.querySelector('.doctor_kn_2_1_0__pagination').innerHTML = ` 
            <button>❮</button>
            <ul>
                <li class="doctor_kn_2_1_0__active">1</li>
                <li>2</li>
                <li>3</li>
            </ul>
            <button>❯</button>`
        }

        const render = () => {
            renderCate()
            // renderPagination()
            renderDoctor(filterData(cate))
        }

        window.onload = async () => {
            doctor_kn_2_1_0__data = await getDoctor()
            render()
        }
    </script>

    <script>
        document.querySelector('#screen6__form input[name="first_link"]').value = document.URL;
        document.querySelector('#screen6__form input[name="website"]').value = document.referrer;
        getLocation().then((data) => {
            document.querySelector('#screen6__form input[name="location"]').value = data.city;
        });
        Validator({
            form: '#screen6__form',
            errorSelector: '.form-message',
            formGroupSelector: '.form-group',
            rules: [
                Validator.isRequired('input[name="imob"]'),
                Validator.isRequired('input[name="iname"]'),
                Validator.isMobile('input[name="imob"]')
            ],
            onSubmit: function (data) {
                if (document.querySelector('#screen6__form #email-xc').value === '') {
                    document.querySelector('.screen6__submit input').value = 'Đang gửi thông tin';
                    document.querySelector('.screen6__submit input').setAttribute('disabled', '');
                    document.querySelector('.screen6__submit input').classList.add('seeding');

                    // console.log(data);
                    sendForm(data, 'Đăng ký thành công');
                } else {
                    console.log('NOT SPAM!!!', document.querySelector('#screen6__form #email-xc').value)
                }
                document.getElementById('screen6__form').reset();
            }
        });
    </script>

    <script>
        document.addEventListener("scroll", function () {
            myLazy('img.lazy', 'src');
            myLazy('source.lazy', 'srcset');
            myLazy('.lazy-bg', 'img-bg');
            myLazy('.load', 'loaded');
            myLazy('.slide_run', 'slide');
            // onScroll('.header_1_1_0__list a', 'section', 'active');
        });
        LazyShowScreen('img.lazy', 'src')

        // scrollClick('.header_1_1_0__list a, a[href="#pageReg"]');

        function myLazy(sec, attr) {
            const section_loads = document.querySelectorAll(sec);
            let winTop = window.innerHeight;

            for (let i = 0; i < section_loads.length; i++) {
                let pos_top = section_loads[i].getBoundingClientRect().top;
                let pos_bottom = section_loads[i].getBoundingClientRect().bottom;
                if (pos_top <= winTop && pos_bottom >= 0) {
                    switch (attr) {
                        case 'src':
                            section_loads[i].src = section_loads[i].dataset.src;
                            section_loads[i].classList.remove('lazy');
                            break;
                        case 'srcset':
                            section_loads[i].srcset = section_loads[i].dataset.srcset;
                            section_loads[i].classList.remove('lazy');
                            break;
                        case 'img-bg':
                            section_loads[i].classList.remove('lazy-bg');
                            section_loads[i].classList.add('img-bg');
                            break;
                        case 'loaded':
                            section_loads[i].classList.remove('load');
                            section_loads[i].classList.add('loaded');
                            break;
                        case 'slide':
                            section_loads[i].classList.add('slide');
                            break;
                        default:
                            console.log(`Sorry, we are out of ${attr}.`);
                    }

                }
            }
        }
        function LazyShowScreen(sec, attr) {
            const section_loads = document.querySelectorAll(sec);
            let win_height = screen.height;

            for (let i = 0; i < section_loads.length; i++) {
                if (section_loads[i].getBoundingClientRect().top < win_height) {
                    switch (attr) {
                        case 'loaded':
                            section_loads[i].classList.add('loaded');
                            break;
                        case 'src':
                            section_loads[i].src = section_loads[i].dataset.src;
                            section_loads[i].classList.remove('lazy');
                            break;
                        case 'srcset':
                            section_loads[i].srcset = section_loads[i].dataset.srcset;
                            section_loads[i].classList.remove('lazy');
                            break;
                        case 'img-bg':
                            section_loads[i].classList.remove('lazy-bg');
                            section_loads[i].classList.add('img-bg');
                            break;
                        case 'slide':
                            section_loads[i].classList.remove('slide');
                            section_loads[i].classList.add('slide');
                            break;
                        default:
                            console.log(`Sorry, we are out of ${attr}.`);
                    }
                }
            }
        }
    </script>
</body>

</html>